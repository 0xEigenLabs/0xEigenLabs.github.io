<!DOCTYPE html>
<html lang="en">

<head>
<title>Eigen zkVM Developer Documentation</title>

<meta name="generator" content="pandoc">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<link rel="icon" type="image/ico" href="/img/favicon.ico" />
<link rel="stylesheet" type="text/css" href="/css/github-markdown.min.css" />
<link rel="stylesheet" type="text/css" href="/css/main.css" />
</head>

<body>
<header>
  <a href="/"><img alt="Eigen zkVM logo" src="/img/logo.png" /></a>
</header>

<main>
<nav><div class="wrapper">
  <ul>
    <li><strong>Eigen Labs</strong></li>
    <li><a id="eigen-labs"   href="/guides/overview.html">Overview</a></li>
    <li><a id="eigen-apps"   href="/guides/application.html">Application</a></li>
  </ul>
  <ul>
    <li><strong>Eigen Proof Market</strong></li>
    <li><a id="guides-zkvm"   href="/guides/zkvm.html">Eigen zkVM</a></li>
    <li><a id="guides-trustless-bridge"   href="/guides/trustless-bridge.html">Trustless Bridge</a></li>
    <li><a id="guides-eigen-prover"   href="/guides/prover.html">Eigen Prover</a></li>
    <li><a id="guides-eigen-zeth"   href="/guides/zeth.html">Eigen Zeth</a></li>
    <li><a id="guides-sequencer"   href="/guides/sequencer.html">Sequencer</a></li>
    <li><a id="guides-da"   href="/guides/da.html">Data Availablity</a></li>
  </ul>
  <ul>
    <li><strong>Eigen Secret</strong></li>
    <li><a id="eigen-secret-overview"   href="/secret/overview.html">Overview</a></li>
    <li><a id="eigen-secret-send"   href="/secret/send.html">Send</a></li>
    <li><a id="eigen-secret-deployment"   href="/secret/deployment.html">Deployment</a></li>
    <li><a id="eigen-secret-integration"   href="/secret/integration.html">Integration</a></li>
  </ul>
  <ul>
    <li><strong>White Paper</strong></li>
    <!-- <li><a href="/api-docs">API Docs</a></li> -->
    <li><a id="whitepaper"   href="/whitepaper/overview.html">Overview</a></li>
  </ul>
</div></nav>

<section class="markdown-body">
<pre class="lynx">
    ___   
   /\__\  
  /:/__/_ 
 /::\/\__\
 \/\::/  /
   /:/  / 
   \/__/  
</pre>

<h1 id="eigen-prover">Eigen Prover</h1>
<p>Eigen zkVM Remote Proving Service</p>
<h2 id="remote-proving">Remote Proving</h2>
<p>Remove Proving allows developers to submit their proof generation request to Eigen Proving Service.</p>
<p>The API is defined as below:</p>
<pre><code>service ProverService {
  rpc ProverStream(stream ProverRequest) returns (stream ProverResponse) {}
}</code></pre>
<p>For the ProverRequest, the request content is one of</p>
<pre><code>message ProverRequest
{
  string id = 1;
  oneof request_type
  {
    GetStatusRequest get_status = 2;
    GenBatchProofRequest gen_batch_proof = 3;
    GenAggregatedProofRequest gen_aggregated_proof = 4;
    GenFinalProofRequest gen_final_proof = 5;
  }
}</code></pre>
<p>The entired protobuf file can be found <a href="https://github.com/0xEigenLabs/eigen-prover/blob/main/service/proto/src/proto/prover/v1/prover.proto">here</a>.</p>
<p>The prover client example can be found in <a href="https://github.com/0xEigenLabs/eigen-zeth/blob/main/src/prover/provider.rs#L181">Eigen ZETH</a>.</p>
<h2 id="local-proving-examples">Local Proving Examples</h2>
<p>The example <code>lr</code> is a very simple zkML sample, and can be proved locally fast on your desktop.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="va">TASK=</span>lr</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="bu">export</span> <span class="va">STARKJS=</span>/zkp/eigen-zkvm/starkjs</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="va">FORCE_BIT=</span>18 <span class="va">RUST_MIN_STACK=</span>2073741821 <span class="va">RUST_BACKTRACE=</span>1 <span class="va">RUST_LOG=</span>debug <span class="kw">\</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="va">CIRCOMLIB=$STARKJS</span>/node_modules/circomlib/circuits <span class="kw">\</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="va">STARK_VERIFIER_GL=$STARKJS</span>/node_modules/pil-stark/circuits.gl <span class="kw">\</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="va">STARK_VERIFIER_BN128=$STARKJS</span>/node_modules/pil-stark/circuits.bn128 <span class="kw">\</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="ex">cargo</span> test --release integration_test_lr -- --nocapture</span></code></pre></div>
<p>Note that the <code>FORCE_BIT</code> can be adjusted as per to different circuits. Taking Fibonacci as an example, the recursive proof process is shown in the figure below.</p>
<p>If you intend to enable the avx acceleration:</p>
<pre><code># for avx512
RUSTFLAGS=&#39;-C target-cpu=native&#39; FORCE_BIT=18 RUST_MIN_STACK=2073741821 RUST_BACKTRACE=1 RUST_LOG=debug \
    CIRCOMLIB=$STARKJS/node_modules/circomlib/circuits \
    STARK_VERIFIER_GL=$STARKJS/node_modules/pil-stark/circuits.gl \
    STARK_VERIFIER_BN128=$STARKJS/node_modules/pil-stark/circuits.bn128 \
    cargo test --release integration_test --features avx512

# for avx2 only (without avx512)
RUSTFLAGS=&#39;-C target-cpu=native&#39; FORCE_BIT=18 RUST_MIN_STACK=2073741821 RUST_BACKTRACE=1 RUST_LOG=debug \
    CIRCOMLIB=$STARKJS/node_modules/circomlib/circuits \
    STARK_VERIFIER_GL=$STARKJS/node_modules/pil-stark/circuits.gl \
    STARK_VERIFIER_BN128=$STARKJS/node_modules/pil-stark/circuits.bn128 \
    cargo test --release integration_test</code></pre>
<h2 id="proving-architecture">Proving Architecture</h2>
<center>
<img src="/img/zkvm/proving-architecture.png">
</center>
<h2 id="request-lifecycle">Request Lifecycle</h2>
<center>
<img src="/img/zkvm/eigen-prover/prover-dataflow.png">
</center>
<h2 id="deployment">Deployment</h2>
<p><a href="https://github.com/0xEigenLabs/eigen-prover?tab=readme-ov-file#server">Document</a></p>

<hr/>
<h4>See a mistake? Open a pull request.</h4>
<a href="https://github.com/0xEigenLabs/0xeigenlabs.github.io/blob/main/src/guides/prover.md">https://github.com/0xEigenLabs/0xeigenlabs.github.io/blob/master/src/guides/prover.md</a>
</section>
</main>

<footer id="footer">
  &copy;&nbsp;2024 EigenLabs Community<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">(Creative Commons Attribution-ShareAlike 4.0 International License)</a>
</footer>
</body>

</html>
